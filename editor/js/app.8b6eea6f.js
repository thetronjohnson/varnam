(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/editor/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"03b5":function(t,e,n){"use strict";var a=n("db95"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Navbar"),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["Home"==t.$route.name?n("v-app-bar",{staticClass:"appbar",attrs:{color:"#fff",blue:"",flat:""}},[n("router-link",{staticClass:"link",attrs:{to:"/"}},[n("v-toolbar-title",{staticClass:"title"},[t._v("Varnam Editor")])],1),n("v-spacer"),n("div",{staticClass:"lang"},[n("v-select",{attrs:{items:t.langs,value:"Malayalam",label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),n("router-link",{staticClass:"link",attrs:{to:"/settings"}},[n("v-btn",{staticClass:"settings",attrs:{depressed:"",color:"#4C5DF5"}},[n("v-icon",[t._v("mdi-cog")]),n("span",{staticClass:"s-text"},[t._v("Settings")])],1)],1)],1):n("v-app-bar",{staticClass:"appbar",attrs:{color:"#fff",blue:"",flat:""}},[n("router-link",{staticClass:"link",attrs:{to:"/"}},[n("v-toolbar-title",{staticClass:"title"},[t._v("Varnam Editor")])],1),n("v-spacer"),n("router-link",{staticClass:"link",attrs:{to:"/"}},[n("v-btn",{staticClass:"settings",attrs:{depressed:"",color:"#4C5DF5"}},[n("v-icon",[t._v("mdi-arrow-left")]),t._v(" Back ")],1)],1)],1),n("hr")],1)},i=[],l=(n("b64b"),{name:"Navbar",data:function(){return{langs:Object.keys(this.$LANGS)}},computed:{lang:{get:function(){return this.$store.state.lang},set:function(t){this.$store.commit("setLang",t)}}}}),c=l,u=(n("e496"),n("2877")),d=n("6544"),f=n.n(d),v=n("40dc"),g=n("8336"),p=n("132d"),b=n("b974"),h=n("2fa4"),C=n("2a7f"),m=Object(u["a"])(c,o,i,!1,null,"4915cf6e",null),y=m.exports;f()(m,{VAppBar:v["a"],VBtn:g["a"],VIcon:p["a"],VSelect:b["a"],VSpacer:h["a"],VToolbarTitle:C["a"]});var _={name:"App",components:{Navbar:y},data:function(){return{}}},k=_,w=(n("034f"),n("7496")),S=Object(u["a"])(k,s,r,!1,null,null,null),x=S.exports;f()(S,{VApp:w["a"]});var A,T=n("8c4f"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-container",{staticClass:"main"},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"editor",attrs:{cols:"6",sm:"9"}},[n("Editor")],1),n("v-col",{staticClass:"panel",attrs:{cols:"6",sm:"3"}},[n("Panel")],1)],1)],1)],1)},O=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea"},[n("v-textarea",{ref:"editor",attrs:{outlined:"",name:"translate",label:"Type your content",rows:"20",color:"#4C5DF5"},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}})],1)},W=[],R=(n("99af"),n("c975"),n("baa5"),n("d3b7"),n("ac1f"),n("466d"),1),$=!0,P={UNKNOWN:0,SHIFT:16,CTRL:17,ALT:18,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8,SPACE:32},N=[],j=[],F=[];function L(t){var e,n;for(e=t.length;e--;)if(n=t.charCodeAt(e),n>=65&&n<=122)return!0;return!1}var D={name:"Editor",data:function(){return{cachedSuggestions:[],inputText:""}},computed:{lang:function(){return this.$store.state.lang},suggestions:function(){return this.$store.state.suggestions}},methods:{init:function(){var t=this;A=this.$refs.editor.$el.getElementsByTagName("textarea")[0],A.addEventListener("keyup",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey,a=n||e.shiftKey;switch(e.keyCode){case P.UNKNOWN:case P.SHIFT:case P.CTRL:case P.ALT:case P.RETURN:break;case P.TAB:if(!a&&$)break;case P.ESC:break;default:if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)break;if(!n){var s=t.getCurrentWordPosition(),r=s[2],o=t.getChunk(s);if(!L(o))return;console.log(o,r),o.length>=R&&(j[r]&&j[r].abort(),clearTimeout(N[r]),N[r]=setTimeout((function(){t.transliterate(o,r),delete N[r]}),500)),t.$store.commit("setCurrentWord",r)}break}})),A.addEventListener("keydown",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey||e.shiftKey;if(!n){var a=[P.BACKSPACE,P.DEL,P.LEFT,P.RIGHT,P.UP,P.DOWN,P.SHIFT,P.CTRL];if(-1===a.indexOf(e.keyCode)&&!(e.keyCode>=65&&e.keyCode<=90)){var s=t.getCurrentWordPosition(),r=s[2],o=t.getChunk(s);if(e.keyCode>=48&&e.keyCode<=57){var i=e.keyCode-48;if(t.suggestions[r]){e.preventDefault();var l=t.suggestions[r][i];"undefined"!==typeof l&&t.replaceWord(s,l)}}else L(o)&&(t.suggestions[r]?t.replaceWord(s,t.suggestions[r][1]):t.replaceWordOnSuggestion(s));localStorage["varnam-input"]=A.value}}}))},getChunk:function(t){var e=A.value,n=t[0],a=t[1];return e.substr(n,a-n)},replaceWordOnSuggestion:function(t){var e=t[2];F[e]=t},replaceWord:function(t,e){var n=this,a=t[2],s=this.inputText,r=t[0],o=t[1],i=A.selectionEnd;this.inputText=s.substring(0,r)+e+s.substr(o,s.length);var l=e.length-(o-r);this.$nextTick((function(){n.setCursorPosition(i+l)})),this.$store.commit("clearSuggestions",a)},setCursorPosition:function(t){if(A.setSelectionRange)A.setSelectionRange(t,t);else if(A.createTextRange){var e=A.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},showCachedSuggestions:function(t,e){return"undefined"!==typeof this.cachedSuggestions[t]&&(this.onSuggestionsReceive(t,e,this.cachedSuggestions[t]),!0)},getCurrentWordPosition:function(){var t,e,n,a=[" ","\n","\r","\t",",","."],s=this.inputText,r=A.selectionEnd,o=s.substr(0,r),i=-1;for(t=0;t<a.length;t++)e=a[t],n=o.lastIndexOf(e),n>i&&(i=n);while(r<s.length){if(-1!==a.indexOf(s[r]))break;++r}var l=0,c=o.match(/\S+/gi);return c&&(l=c.length-1),i<0?[0,r,l]:[i+1,r,l]},transliterate:function(t,e){var n=this;j[e]=new AbortController,fetch(this.$VARNAM_API_URL+"/tl/".concat(this.lang,"/").concat(t),{signal:j[e].signal}).then((function(t){return t.json()})).then((function(a){n.onSuggestionsReceive(t,e,a.result),delete j[e]}))},onSuggestionsReceive:function(t,e,n){if(this.$store.commit("setSuggestions",{id:e,word:t,suggestions:n}),F[e]){var a=F[e];this.replaceWord(a,n[0]),delete F[e]}}},mounted:function(){this.init()}},K=D,I=n("a844"),M=Object(u["a"])(K,V,W,!1,null,null,null),B=M.exports;f()(M,{VTextarea:I["a"]});var U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("v-container",[n("div",{staticClass:"suggestions"},[n("p",{staticClass:"title"},[t._v("Word Suggestions")]),t._l(t.$store.state.suggestions[t.$store.state.currentWord],(function(e,a){return[n("v-row",{key:e.key,attrs:{align:"start",justify:"center"}},[n("v-card",{staticClass:"card",attrs:{outlined:""}},[n("v-btn",{staticClass:"sug-id",attrs:{depressed:"",color:"#4C5DF5"}},[t._v(t._s(a))]),n("span",{staticClass:"sug-word"},[t._v(t._s(e))])],1)],1)]})),n("div",{staticClass:"add-word"},[n("v-btn",{staticClass:"sug-add",attrs:{depressed:"",color:"#4C5DF5"}},[t._v("Add Word")])],1)],2)])],1)},H=[],G={name:"Panel"},J=G,q=(n("85cf"),n("b0af")),z=n("a523"),Q=n("0fd9"),X=Object(u["a"])(J,U,H,!1,null,"b010a0b8",null),Y=X.exports;f()(X,{VBtn:g["a"],VCard:q["a"],VContainer:z["a"],VRow:Q["a"]});var Z={name:"Home",components:{Editor:B,Panel:Y}},tt=Z,et=(n("db34"),n("62ad")),nt=Object(u["a"])(tt,E,O,!1,null,"1a9c2b6b",null),at=nt.exports;f()(nt,{VCol:et["a"],VContainer:z["a"],VRow:Q["a"]});var st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("AddWords"),n("Navbar")],1)},rt=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("AddWordsForm"),n("v-container",{staticClass:"wordsection"},[n("div",t._l(t.wordlist,(function(e){return n("v-row",{key:e.key,staticClass:"word",attrs:{"no-gutters":""}},[n("v-col",[n("span",{staticClass:"english"},[t._v(t._s(e.english))])]),n("v-col",[n("span",{staticClass:"regional"},[t._v(t._s(e.regional))])]),n("v-col",[n("span",{staticClass:"votes"},[n("v-btn",{staticClass:"vote",attrs:{depressed:"",color:"#4C5DF5"}},[n("v-icon",[t._v("mdi-arrow-up-box")]),t._v(" "+t._s(e.votes)+" ")],1)],1)])],1)})),1)])],1)},it=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addwords"},[n("v-form",[n("v-row",[n("v-col",{attrs:{cols:5}},[n("v-text-field",{attrs:{label:"English Word",outlined:"",color:"#4C5DF5"}})],1),n("v-col",{attrs:{cols:5}},[n("v-text-field",{attrs:{label:"The word in your language",outlined:"",color:"#4C5DF5"}})],1),n("v-col",{attrs:{cols:2}},[n("div",{staticClass:"add-word"},[n("v-btn",{staticClass:"sug-add",attrs:{depressed:"",color:"#4C5DF5"}},[t._v("Add Word")])],1)])],1)],1)],1)},ct=[],ut={name:"AddWordsForm"},dt=ut,ft=(n("03b5"),n("4bd4")),vt=n("8654"),gt=Object(u["a"])(dt,lt,ct,!1,null,"7ae2277e",null),pt=gt.exports;f()(gt,{VBtn:g["a"],VCol:et["a"],VForm:ft["a"],VRow:Q["a"],VTextField:vt["a"]});var bt={name:"AddWords",components:{AddWordsForm:pt},data:function(){return{wordlist:[{key:1,english:"Firefox",regional:"ഫയർഫോക്സ് ",votes:50},{key:2,english:"Chrome",regional:"ക്രോം",votes:40},{key:3,english:"English",regional:"ഇംഗ്ലീഷ്",votes:100}]}}},ht=bt,Ct=(n("7ba4"),Object(u["a"])(ht,ot,it,!1,null,"293ba8ec",null)),mt=Ct.exports;f()(Ct,{VBtn:g["a"],VCol:et["a"],VContainer:z["a"],VIcon:p["a"],VRow:Q["a"]});var yt={name:"Settings",components:{AddWords:mt}},_t=yt,kt=Object(u["a"])(_t,st,rt,!1,null,null,null),wt=kt.exports;a["a"].use(T["a"]);var St=[{path:"/",name:"Home",component:at},{path:"/settings",name:"Settings",component:wt}],xt=new T["a"]({routes:St}),At=xt,Tt=n("2909"),Et=n("2f62");a["a"].use(Et["a"]);var Ot=new Et["a"].Store({state:{currentWord:0,lang:"ml",suggestions:{}},mutations:{setCurrentWord:function(t,e){t.currentWord=e},setSuggestions:function(t,e){a["a"].set(t.suggestions,e.id,[e.word].concat(Object(Tt["a"])(e.suggestions)))},clearSuggestions:function(t,e){a["a"].delete(t.suggestions,e)},setLang:function(t,e){t.lang=e}},actions:{},modules:{}}),Vt=n("f309");a["a"].use(Vt["a"]);var Wt=new Vt["a"]({});a["a"].config.productionTip=!1,window.$VARNAM_API_URL="http://127.0.0.1:8123",a["a"].prototype.$VARNAM_API_URL=window.$VARNAM_API_URL,a["a"].prototype.$LANGS={ml:"Malayalam",hi:"Hindi",kn:"Kannada"},new a["a"]({router:At,store:Ot,vuetify:Wt,render:function(t){return t(x)}}).$mount("#app")},6282:function(t,e,n){},"7ba4":function(t,e,n){"use strict";var a=n("f3a0"),s=n.n(a);s.a},"85cf":function(t,e,n){"use strict";var a=n("6282"),s=n.n(a);s.a},"85ec":function(t,e,n){},"8ec1":function(t,e,n){},bfb3:function(t,e,n){},db34:function(t,e,n){"use strict";var a=n("bfb3"),s=n.n(a);s.a},db95:function(t,e,n){},e496:function(t,e,n){"use strict";var a=n("8ec1"),s=n.n(a);s.a},f3a0:function(t,e,n){}});
//# sourceMappingURL=app.8b6eea6f.js.map