(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/editor/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"4d41":function(t,e,n){"use strict";var a=n("def1"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("b680"),n("d3b7"),n("25f0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("navbar"),n("transition",{attrs:{name:"slide"}},[n("keep-alive",{attrs:{include:"Home"}},[n("router-view")],1)],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",[n("v-toolbar-title",{staticClass:"title"},[n("router-link",{staticClass:"primary--text text-decoration-none",attrs:{to:"/"}},[t._v(" Varnam Editor ")])],1),n("v-spacer"),n("v-row",{staticClass:"d-inline-flex mr-md-1",attrs:{align:"center",justify:"end",dense:""}},[n("v-col",{attrs:{lg:"3",md:"4",sm:"6"}},[n("v-select",{attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),n("v-col",{attrs:{lg:"2",md:"3",sm:"4"}},["Home"==t.$route.name?n("div",[n("v-btn",{attrs:{to:"/settings",color:"primary",depressed:""}},[n("v-icon",[t._v("mdi-cog")]),t._v(" Settings ")],1)],1):n("div",[n("v-btn",{attrs:{to:"/",color:"primary",depressed:""}},[n("v-icon",[t._v("mdi-arrow-left")]),t._v(" Back ")],1)],1)])],1)],1)],1)},i=[],l=(n("4160"),n("159b"),{name:"Navbar",data:function(){return{}},computed:{langs:function(){var t=[];return this.$store.state.langs.forEach((function(e){t.push({text:e.DisplayName,value:e.Identifier})})),t},lang:{get:function(){return this.$store.state.settings.lang},set:function(t){this.$store.commit("updateSettings",{lang:t})}}}}),c=l,d=n("2877"),u=n("6544"),f=n.n(u),v=n("8336"),p=n("62ad"),g=n("132d"),h=n("0fd9"),m=n("b974"),b=n("2fa4"),k=n("71d9"),w=n("2a7f"),y=Object(d["a"])(c,o,i,!1,null,null,null),_=y.exports;f()(y,{VBtn:v["a"],VCol:p["a"],VIcon:g["a"],VRow:h["a"],VSelect:m["a"],VSpacer:b["a"],VToolbar:k["a"],VToolbarTitle:w["c"]});var x={name:"App",components:{Navbar:_},data:function(){return{}}},S=x,V=(n("034f"),n("7496")),$=Object(d["a"])(S,r,s,!1,null,null,null),A=$.exports;f()($,{VApp:V["a"]});var C,I=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-container",{staticClass:"main",attrs:{fluid:t.fluid}},["right"===t.$store.state.settings.suggestionsPanelPosition?n("div",[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"editor",attrs:{lg:"9",md:"8",sm:"7",xs:"12"}},[n("Editor")],1),n("v-col",{staticClass:"panel",attrs:{lg:"3",md:"4",sm:"5",xs:"12"}},[n("SuggestionsPanel")],1)],1)],1):n("div",[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"panel",attrs:{lg:"3",md:"4",sm:"5",xs:"12"}},[n("SuggestionsPanel")],1),n("v-col",{staticClass:"editor",attrs:{lg:"9",md:"8",sm:"7",xs:"12"}},[n("Editor")],1)],1)],1)])],1)},D=[],R=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea"},[n("v-textarea",{ref:"editor",style:"font-size: "+t.$store.state.settings.fontSize+"px",attrs:{outlined:"",name:"translate",label:"Type here...",rows:"20",autofocus:!0},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.setupDialog,callback:function(e){t.setupDialog=e},expression:"setupDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" No Varnam Languages Found ")]),n("v-card-text",[t._v("Varnam couldn't find any languages set up. This looks like a first install. Set up languages to use Varnam.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:"",to:"/settings"},on:{click:function(e){t.setupDialog=!1}}},[t._v(" Set Up Languages ")])],1)],1)],1)],1)}),O=[],N=(n("99af"),n("c975"),n("baa5"),n("ac1f"),n("466d"),n("498a"),1),W=!0,L={UNKNOWN:0,SHIFT:16,CTRL:17,ALT:18,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8,SPACE:32},E=[],P=[];function F(t){var e,n;for(e=t.length;e--;)if(n=t.charCodeAt(e),n>=65&&n<=122)return!0;return!1}var j={name:"Editor",data:function(){return{inputText:"",alternateWords:[]}},computed:{setupDialog:{get:function(){return this.$store.state.setupDialog},set:function(){this.$store.commit("hideSetupDialog")}},lang:function(){return this.$store.state.settings.lang},suggestions:function(){return this.$store.state.suggestions}},methods:{init:function(){var t=this;C=this.$refs.editor.$el.getElementsByTagName("textarea")[0],C.addEventListener("keyup",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey,a=n||e.shiftKey;switch(e.keyCode){case L.UNKNOWN:case L.SHIFT:case L.CTRL:case L.ALT:case L.RETURN:break;case L.TAB:if(!a&&W)break;case L.ESC:break;default:if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)break;if(!n){var r=t.getCurrentWordPosition(),s=r[2],o=t.getChunk(r);if(""===o.trim())return void t.$store.commit("hideSuggestions");if(!F(o))return void(t.alternateWords[o]&&t.$store.commit("displaySuggestions",t.alternateWords[o]));o.length>=N&&(P[s]&&P[s].abort(),clearTimeout(E[s]),E[s]=setTimeout((function(){t.transliterate(o,s,(function(e,n,a){t.$store.commit("setSuggestions",{id:n,suggestions:a}),t.$store.commit("displaySuggestions",a)})),delete E[s]}),500)),t.$store.commit("setCurrentWord",s)}break}})),C.addEventListener("keydown",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey||e.shiftKey;if(!n){var a=[L.BACKSPACE,L.DEL,L.LEFT,L.RIGHT,L.UP,L.DOWN,L.SHIFT,L.CTRL];if(-1===a.indexOf(e.keyCode)&&!(e.keyCode>=65&&e.keyCode<=90)){var r=t.getCurrentWordPosition(),s=r[2],o=t.getChunk(r);if(e.keyCode>=48&&e.keyCode<=57){var i=e.keyCode-48;t.chooseSuggestion(i,r)&&e.preventDefault()}else F(o)&&(t.suggestions[s]&&t.suggestions[s][0]===o?t.replaceWord(r,t.suggestions[s],1):t.replaceWordOnSuggestion(r));localStorage["varnam-input"]=C.value}}})),C.addEventListener("click",(function(){var e=t.getCurrentWordPosition(),n=t.getChunk(e);t.alternateWords[n]&&t.$store.commit("displaySuggestions",t.alternateWords[n])})),this.$store.subscribe((function(e){"chooseSuggestion"===e.type&&t.chooseSuggestion(e.payload)})),this.$VARNAM_OFFLINE||(this.$VARNAM_IDB.fetchWords(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.$VARNAM_IDB.fetchWords()})))},getChunk:function(t){var e=C.value,n=t[0],a=t[1];return e.substr(n,a-n)},replaceWordOnSuggestion:function(t){var e=this,n=t[2];this.transliterate(this.getChunk(t),n,(function(n,a,r){e.replaceWord(t,r,1)}))},replaceWord:function(t,e,n){var a=this,r=t[0],s=t[1],o=t[2],i=e[n],l=this.inputText,c=C.selectionEnd;this.inputText=l.substring(0,r)+i+l.substr(s,l.length);var d=i.length-(s-r);this.$nextTick((function(){a.setCursorPosition(c+d)})),this.alternateWords[i]=e,this.$store.commit("clearSuggestions",o)},setCursorPosition:function(t){if(C.setSelectionRange)C.setSelectionRange(t,t);else if(C.createTextRange){var e=C.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},showCachedSuggestions:function(t,e){return"undefined"!==typeof this.cachedSuggestions[t]&&(this.onSuggestionsReceive(t,e,this.cachedSuggestions[t]),!0)},getCurrentWordPosition:function(){var t,e,n,a=[" ","\n","\r","\t",",","."],r=this.inputText,s=C.selectionEnd,o=r.substr(0,s),i=-1;for(t=0;t<a.length;t++)e=a[t],n=o.lastIndexOf(e),n>i&&(i=n);while(s<r.length){if(-1!==a.indexOf(r[s]))break;++s}var l=0,c=o.match(/\S+/gi);return c&&(l=c.length-1),i<0?[0,s,l]:[i+1,s,l]},transliterate:function(t,e,n){var a=[t];!this.$VARNAM_OFFLINE&&this.$store.state.idbWords[t]?(a=a.concat(this.$store.state.idbWords[t]),n(t,e,a)):(P[e]=new AbortController,this.$store.commit("requestSend"),fetch(this.$VARNAM_API_URL+"/tl/".concat(this.lang,"/").concat(t),{signal:P[e].signal}).then((function(t){return t.json()})).then((function(r){a=a.concat(r.result),n(t,e,a),delete P[e]})))},chooseSuggestion:function(t,e){e||(e=this.getCurrentWordPosition());var n=e[2],a=this.getChunk(e),r=[];return this.suggestions[n]?r=this.suggestions[n]:this.alternateWords[a]&&(r=this.alternateWords[a]),!!r[t]&&(this.replaceWord(e,r,t),!0)}},mounted:function(){this.init()}},U=j,M=n("b0af"),B=n("99d9"),K=n("169a"),z=n("a844"),q=Object(d["a"])(U,R,O,!1,null,null,null),H=q.exports;f()(q,{VBtn:v["a"],VCard:M["a"],VCardActions:B["b"],VCardText:B["d"],VCardTitle:B["e"],VDialog:K["a"],VSpacer:b["a"],VTextarea:z["a"]});var J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{outlined:"",loading:t.loading}},[n("v-card-title",{staticClass:"title"},[t._v("Word Suggestions")]),n("v-card-text",{staticClass:"suggestions"},[n("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:t.placeholder,expression:"placeholder"}],attrs:{boilerplate:!0,tile:!0}},[n("v-card",{staticClass:"word-card d-flex align-center",attrs:{outlined:""}},[n("v-btn",{staticClass:"sug-id",attrs:{depressed:"",color:"primary"}},[t._v("1")]),n("div",{staticClass:"flex-grow-1 sug-word v-skeleton-loader__bone"},[n("div",{staticClass:"v-skeleton-loader__text v-skeleton-loader__bone"})])],1)],1),t._l(t.$store.state.suggestionsDisplay,(function(e,a){return n("div",{key:e.key},[n("v-card",{staticClass:"word-card d-flex align-center",attrs:{outlined:""}},[n("v-btn",{staticClass:"sug-id",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.chooseSuggestion(a)}}},[t._v(t._s(a))]),n("div",{staticClass:"sug-word"},[t._v(t._s(e))])],1)],1)}))],2),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{depressed:"",color:"primary",to:"/settings?tab=words"}},[n("v-icon",[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1)},G=[],X={name:"SuggestionsPanel",data:function(){return{placeholder:!0,loading:!1}},methods:{chooseSuggestion:function(t){this.$store.commit("chooseSuggestion",t)}},mounted:function(){var t=this;this.$store.subscribe((function(e){"requestSend"===e.type?t.loading=!0:"displaySuggestions"===e.type?(t.placeholder=!1,t.loading=!1):"hideSuggestions"===e.type&&(t.placeholder=!0,t.loading=!1)}))}},Y=X,Q=(n("4d41"),n("3129")),Z=Object(d["a"])(Y,J,G,!1,null,"600834e9",null),tt=Z.exports;f()(Z,{VBtn:v["a"],VCard:M["a"],VCardActions:B["b"],VCardText:B["d"],VCardTitle:B["e"],VIcon:g["a"],VSkeletonLoader:Q["a"]});var et={name:"Home",components:{Editor:H,SuggestionsPanel:tt},computed:{fluid:function(){var t=this.$vuetify.breakpoint.name;return"md"===t||"sm"===t||"xs"===t}}},nt=et,at=n("a523"),rt=Object(d["a"])(nt,T,D,!1,null,"3b08be18",null),st=rt.exports;f()(rt,{VCol:p["a"],VContainer:at["a"],VRow:h["a"]});var ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{staticClass:"d-flex justify-center",attrs:{row:""}},[n("v-flex",{attrs:{xs11:"",xl6:""}},[n("v-tabs",{attrs:{grow:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#editor"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Editor ")],1),n("v-tab",{attrs:{href:"#words"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Words ")],1),n("v-tab-item",{attrs:{value:"editor"}},[n("EditorSettings"),t.$VARNAM_OFFLINE?n("LanguageDownload"):t._e()],1),n("v-tab-item",{attrs:{value:"words"}},[t.$VARNAM_OFFLINE?n("div",[n("AddWordsOffline")],1):n("div",[n("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[n("v-tab",{attrs:{href:"#offline"}},[t._v("Offline")]),n("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),n("v-tab-item",{attrs:{value:"offline"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOffline")],1)],1)],1),n("v-tab-item",{attrs:{value:"online"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOnline")],1)],1)],1)],1)],1)])],1)],1)],1)],1)},it=[],lt=(n("5319"),n("5530")),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{staticClass:"text-h4",attrs:{headers:t.headers,items:t.words,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{depressed:"",color:a.voted?"primary":"",title:"Vote","aria-label":"Vote suggestion"},on:{click:function(e){return t.vote(a._id)}}},[n("v-icon",[t._v("mdi-arrow-up-box")]),t._v(" "+t._s(a.votes)+" ")],1)]}}])}),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},dt=[],ut=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addwords"},[n("v-form",[n("v-row",{attrs:{cols:"12",md:"4",align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Word (in "+t.langName+")","hide-details":!0,outlined:"",color:"primary"},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Pattern","hide-details":!0,outlined:"",color:"primary"},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.addWord}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1)],1)],1)}),ft=[],vt={name:"AddWordsForm",data:function(){return{word:"",pattern:""}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{addWord:function(){this.$emit("addWord",{word:this.word,pattern:this.pattern})}}},pt=vt,gt=n("4bd4"),ht=n("8654"),mt=Object(d["a"])(pt,ut,ft,!1,null,null,null),bt=mt.exports;f()(mt,{VBtn:v["a"],VCol:p["a"],VForm:gt["a"],VIcon:g["a"],VRow:h["a"],VTextField:ht["a"]});var kt={name:"AddWordsOnline",components:{AddWordForm:bt},data:function(){return{snackbarDisplay:!1,snackbarText:!1,headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;fetch(this.$VARNAM_REVIEW_URL+"/suggestions?lang="+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.words=e}))},addWord:function(t){var e=this;t.lang=this.$store.state.settings.lang,fetch(this.$VARNAM_REVIEW_URL+"/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.snackbarText="Suggestion was addedd successfully",e.snackbarDisplay=!0,e.init()}))},vote:function(t){var e=this.words.find((function(e){return e._id===t}));fetch(this.$VARNAM_REVIEW_URL+"/suggestions/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:t})}).then((function(t){return t.json()})).then((function(t){"voted"===t.message?(e.voted=!1,e.votes--):"success"===t.message&&(e.voted=!0,e.votes++)}))}},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}},wt=kt,yt=n("8fea"),_t=n("2db4"),xt=Object(d["a"])(wt,ct,dt,!1,null,null,null),St=xt.exports;f()(xt,{VBtn:v["a"],VDataTable:yt["a"],VIcon:g["a"],VSnackbar:_t["a"]});var Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$VARNAM_OFFLINE?n("div",[n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Learn Word")]),n("v-card-subtitle",[t._v("Varnam will learn this word, make different patterns from it.")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Word to learn (in "+t.langName+")","hide-details":!0,outlined:"",clearable:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[n("v-btn",{staticStyle:{top:"-12px"},attrs:{large:"",color:"primary"},on:{click:t.learnWord}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-teach")]),t._v(" Learn Word ")],1)]},proxy:!0}],null,!1,2016219063),model:{value:t.wordToLearn,callback:function(e){t.wordToLearn=e},expression:"wordToLearn"}})],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Train Word")]),n("v-card-subtitle",[t._v("Ask Varnam to use a particular pattern for a word.")]),n("v-card-text",[n("AddWordForm",{on:{addWord:t.addWord}})],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Delete Word")]),n("v-card-subtitle",[t._v("Varnam will delete this word and all patterns associated with it.")]),n("v-card-text",[n("v-row",{attrs:{cols:"12",align:"center"}},[n("v-col",{attrs:{cols:"9"}},[n("v-text-field",{attrs:{label:"Word to delete (in "+t.langName+")","hide-details":!0,outlined:""},model:{value:t.wordToDelete,callback:function(e){t.wordToDelete=e},expression:"wordToDelete"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{large:"",color:"error"},on:{click:function(e){return t.deleteWord()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-minus")]),t._v(" Delete Word ")],1)],1)],1)],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Import Words")]),n("v-card-subtitle",[t._v("Import many words to Varnam.")]),n("v-card-text",[n("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[n("v-tab",{attrs:{href:"#file"}},[t._v("File")]),n("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),n("v-tab-item",{attrs:{value:"file"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("ImportFromFile")],1)],1)],1),n("v-tab-item",{attrs:{value:"online"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("ImportFromOnline")],1)],1)],1)],1)],1)],1)],1):n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{attrs:{headers:t.headers,items:t.words,"items-per-page":5,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteWord(a.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)]}}])})],1),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},$t=[],At=(n("96cf"),n("1da1")),Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",[n("p",[t._v("Choose a file to import (learn) words from. Can be any text file or files downloaded from "),n("a",{attrs:{href:"https://varmaproject.com/packs",target:"_blank"}},[t._v("here.")])]),n("v-file-input",{attrs:{multiple:"",label:"File input"},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),n("v-btn",{attrs:{color:"primary",disabled:0===this.files.length},on:{click:t.upload}},[t._v("Upload & Import")])],1),n("br"),n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.log.length>0,expression:"log.length > 0"}],attrs:{flat:"",loading:t.loading}},[n("v-card-subtitle",[t._v("Import Status")]),n("v-card-text",[n("ul",t._l(t.log,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)])],1)],1)},It=[],Tt=(n("1276"),{name:"ImportFromFile",data:function(){return{files:[],log:[],loading:!1}},methods:{upload:function(){var t=this,e=new FormData;this.files.forEach((function(t){return e.append("files",t)})),this.log=[],this.loading=!0,fetch(this.$VARNAM_API_URL+"/learn/upload/"+this.$store.state.settings.lang,{method:"POST",body:e}).then(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==n.status){e.next=6;break}a=n.body.getReader(),r=function e(n){var r=n.done,s=n.value,o=new TextDecoder("utf-8").decode(s).split("\n").filter((function(t){return 0!==t.length}));if(o.forEach((function(e){return t.log.push(e)})),!r)return a.read().then(e);t.loading=!1,t.$toast("Successfully learnt words in file",{color:"success"})},a.read().then(r),e.next=10;break;case 6:return e.next=8,n.json();case 8:s=e.sent,t.$toast(s.message,{color:"error"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.error("Error:",t)}))}}}),Dt=Tt,Rt=n("23a7"),Ot=Object(d["a"])(Dt,Ct,It,!1,null,null,null),Nt=Ot.exports;f()(Ot,{VBtn:v["a"],VCard:M["a"],VCardSubtitle:B["c"],VCardText:B["d"],VFileInput:Rt["a"],VForm:gt["a"]});var Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"packsTable",attrs:{headers:t.headers,items:t.packs,"item-key":"identifier","show-expand":"","show-select":""},on:{"update:items":function(e){t.packs=e},"item-selected":t.onPackSelect,"toggle-select-all":t.onPackSelectAll},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-col",{attrs:{l:"10"}},[t._v(" Choose the language packs you need and click download ")]),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download ")],1)],1)],1)]},proxy:!0},{key:"item.data-table-select",fn:function(e){var a=e.item,r=e.isSelected,s=e.select;return[a.installed?n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):n("div",[n("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"expanded-item",fn:function(e){var a=e.headers,r=e.item;return[n("td"),n("td",{attrs:{colspan:a.length}},[n("v-data-table",{attrs:{headers:t.versionHeaders,items:r.versions,"hide-default-header":!0,"hide-default-footer":!0,"item-key":"identifier","show-select":""},on:{"update:items":function(e){return t.$set(r,"versions",e)},"item-selected":t.onPackVersionSelect},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var a=e.item,r=e.isSelected,s=e.select;return[a.installed?n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):n("div",[n("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"item.size",fn:function(e){var n=e.item;return[t._v(" "+t._s(t._f("formatSize")(n.size))+" ")]}}],null,!0),model:{value:t.packsVersionsSelected,callback:function(e){t.packsVersionsSelected=e},expression:"packsVersionsSelected"}})],1)]}}]),model:{value:t.packsSelected,callback:function(e){t.packsSelected=e},expression:"packsSelected"}}),Object.keys(t.log).length>0?n("v-tabs",{model:{value:t.logTab,callback:function(e){t.logTab=e},expression:"logTab"}},[t._l(t.log,(function(e,a){return n("v-tab",{key:a},[t._v(" "+t._s(a)+" ")])})),t._l(t.log,(function(e,a){return n("v-tab-item",{key:a},[n("v-card",{attrs:{flat:"",loading:e.loading}},[n("v-card-subtitle",[t._v("Import Status")]),n("v-card-text",[n("ul",t._l(e.log,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)])],1)],1)}))],2):t._e()],1)},Lt=[],Et=(n("d81d"),n("13d5"),{name:"ImportFromOnline",data:function(){return{headers:[{text:"Name",sortable:!0,value:"name"},{text:"Description",sortable:!1,value:"description"}],versionHeaders:[{text:"Version",sortable:!1,value:"version"},{text:"Description",sortable:!1,value:"description"},{text:"Size",sortable:!1,value:"size"}],log:{},logLoading:!1,logTab:0,packsInstalled:[],packsFromUpstream:[],packsSelected:[],packsVersionsSelected:[]}},computed:{downloadBtnDisabled:function(){return 0===this.packsVersionsSelected.length},upstreamURL:function(){return this.$store.state.upstreamURL},packs:function(){var t=this;return this.packsFromUpstream.map((function(e,n){var a=0;return e.versions=e.versions.map((function(n){return n.packID=e.identifier,n.installed=t.packsInstalled.indexOf(n.identifier)>-1,n.installed&&a++,n})),e.installed=a===e.versions.length,e}))}},methods:{init:function(){var t=this;window.fetch(window.$VARNAM_API_URL+"/packs/"+this.$store.state.settings.lang).then(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fetchPacksFromUpstream(),e.next=3,n.json();case 3:a=e.sent,200===n.status?t.packsInstalled=a.reduce((function(t,e){return t.concat(e.versions.reduce((function(t,e){return t.push(e.identifier),t}),[]))}),[]):404===n.status?t.packsInstalled=[]:t.$toast("Local: "+a.message,{color:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchPacksFromUpstream:function(){var t=this;window.fetch(this.upstreamURL+"/packs/"+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.packsFromUpstream=e instanceof Array?e:[]}))},onPackSelect:function(t){if(t.value)this.packsVersionsSelected=this.packsVersionsSelected.concat(t.item.versions.filter((function(t){return!t.installed})));else{var e=[];t.item.versions.forEach((function(t){return e.push(t.id)})),this.packsVersionsSelected=this.packsVersionsSelected.filter((function(t){return-1===e.indexOf(t.id)}))}},onPackVersionSelect:function(t){var e=this.packs.find((function(e){return e.identifier===t.item.packID})),n=this.packsVersionsSelected.filter((function(e){return e.packID===t.item.packID})),a=e.versions.filter((function(t){return!t.installed}));a.length===n.length+(t.value?1:-1)?this.packsSelected.push(e):this.packsSelected=this.packsSelected.filter((function(e){return e.identifier!==t.item.packID}))},onPackSelectAll:function(t){if(t.value){var e=this.packs.reduce((function(t,e){return t.concat(e.versions.filter((function(t){return!t.installed})))}),[]);this.packsVersionsSelected=e}else this.packsVersionsSelected=[]},downloadPack:function(t){var e=this,n=t.identifier;return new Promise((function(a,r){e.$set(e.log,n,{loading:!0,log:["Downloading pack..."]}),window.fetch(e.$VARNAM_API_URL+"/packs/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:e.$store.state.settings.lang,pack:t.packID,version:n})}).then(function(){var s=Object(At["a"])(regeneratorRuntime.mark((function s(o){var i,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(200!==o.status){s.next=6;break}i=o.body.getReader(),l=function r(s){var o=s.done,l=s.value,c=new TextDecoder("utf-8").decode(l).split("\n").filter((function(t){return 0!==t.length}));if(c.forEach((function(t){return e.$set(e.log[n].log,e.log[n].log.length,t)})),!o)return i.read().then(r);e.$set(e.log[n],"loading",!1),e.$toast("Successfully imported pack",{color:"success"}),e.packsInstalled.push(t.identifier),a()},i.read().then(l),s.next=13;break;case 6:return s.next=8,o.json();case 8:c=s.sent,e.$toast(c.message,{color:"error"}),e.$set(e.log[n],"loading",!1),e.$set(e.log[n].log,e.log[n].log.length,c.message),r(new Error(c.message));case 13:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())}))},download:function(){var t=this;this.packsVersionsSelected.forEach(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.downloadPack(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.fetchPacksFromUpstream()}))},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}}),Pt=Et,Ft=(n("810e"),n("9e88")),jt=n("71a3"),Ut=n("c671"),Mt=n("fe57"),Bt=Object(d["a"])(Pt,Wt,Lt,!1,null,null,null),Kt=Bt.exports;f()(Bt,{VBtn:v["a"],VCard:M["a"],VCardSubtitle:B["c"],VCardText:B["d"],VCol:p["a"],VDataTable:yt["a"],VIcon:g["a"],VRow:h["a"],VSimpleCheckbox:Ft["a"],VTab:jt["a"],VTabItem:Ut["a"],VTabs:Mt["a"]});var zt={name:"AddWordsOffline",components:{AddWordForm:bt,ImportFromFile:Nt,ImportFromOnline:Kt},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""},vtab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}},data:function(){return{snackbarDisplay:!1,snackbarText:!1,wordToLearn:"",wordToDelete:"",headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(e){e.getAll().onsuccess=function(e){t.words=e.target.result}}))},learnWord:function(){var t=this,e=this.wordToLearn.trim();""===e&&(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),fetch(this.$VARNAM_API_URL+"/learn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,text:e})}).then((function(n){200===n.status&&(t.snackbarText='Succesfully learnt word "'.concat(e,'"'),t.snackbarDisplay=!0,t.wordToLearn="")}))},addWord:function(t){var e=this;""!==t.pattern.trim()&&""!==t.word.trim()||(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/train/"+this.$store.state.settings.lang,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pattern:t.pattern,word:t.word})}).then((function(n){200===n.status&&(e.snackbarText='Succesfully trained "'.concat(t.pattern,'" => "').concat(t.word,'"'),e.snackbarDisplay=!0,e.wordToLearn="")})):this.$VARNAM_IDB.getWordsStore().then((function(n){var a=n.add(t);a.onsuccess=function(){e.snackbarText="Word was addedd successfully",e.snackbarDisplay=!0,e.init()},a.onerror=function(t){console.log(t)}}))},deleteWord:function(t){var e=this;this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,word:this.wordToDelete})}).then(function(){var t=Object(At["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==n.status){t.next=6;break}e.snackbarText='Succesfully deleted word "'.concat(e.wordToDelete,'"'),e.snackbarDisplay=!0,e.wordToLearn="",t.next=11;break;case 6:return t.next=8,n.json();case 8:n=t.sent,e.snackbarText="Error: ".concat(n.message),e.snackbarDisplay=!0;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$VARNAM_IDB.getWordsStore().then((function(n){n.delete(t),e.init()}))}},mounted:function(){this.init()}},qt=zt,Ht=Object(d["a"])(qt,Vt,$t,!1,null,null,null),Jt=Ht.exports;f()(Ht,{VBtn:v["a"],VCard:M["a"],VCardSubtitle:B["c"],VCardText:B["d"],VCardTitle:B["e"],VCol:p["a"],VDataTable:yt["a"],VIcon:g["a"],VRow:h["a"],VSnackbar:_t["a"],VTab:jt["a"],VTabItem:Ut["a"],VTabs:Mt["a"],VTextField:ht["a"]});var Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-title",[t._v("Editor")]),n("v-card-text",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{l:"6"}},[n("v-text-field",{attrs:{type:"number",label:"Font Size",outlined:"","hide-details":!0},model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}})],1),n("v-col",{attrs:{l:"6"}},[n("v-select",{attrs:{items:[{text:"Left",value:"left"},{text:"Right",value:"right"}],label:"Suggestions Panel Position",outlined:"","hide-details":!0},model:{value:t.suggestionsPanelPosition,callback:function(e){t.suggestionsPanelPosition=e},expression:"suggestionsPanelPosition"}})],1)],1)],1)],1)],1)},Xt=[],Yt={name:"EditorSettings",data:function(){return{}},computed:{fontSize:{get:function(){return this.$store.state.settings.fontSize},set:function(t){this.$store.commit("updateSettings",{fontSize:t})}},suggestionsPanelPosition:{get:function(){return this.$store.state.settings.suggestionsPanelPosition},set:function(t){this.$store.commit("updateSettings",{suggestionsPanelPosition:t})}}},methods:{init:function(){}},mounted:function(){this.init()}},Qt=Yt,Zt=Object(d["a"])(Qt,Gt,Xt,!1,null,null,null),te=Zt.exports;f()(Zt,{VCard:M["a"],VCardText:B["d"],VCardTitle:B["e"],VCol:p["a"],VRow:h["a"],VSelect:m["a"],VTextField:ht["a"]});var ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{flat:"",tile:"",loading:t.loading}},[n("v-card-title",[t._v("Languages")]),n("v-card-actions",[n("p",[t._v(" Choose languages and click Download. You can also download these from "),n("a",{attrs:{target:"_blank",href:"https://varnamproject.com/downloads"},on:{click:t.$LINK_OPEN_CLICK}},[t._v("here")]),t._v(". ")]),n("v-spacer"),n("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download ")],1)],1),n("v-card-text",[n("v-data-table",{attrs:{headers:t.headers,items:t.langs,"sort-by":"DisplayName","item-key":"Identifier","show-select":"","items-per-page":20},on:{"update:items":function(e){t.langs=e}},scopedSlots:t._u([{key:"item.installed",fn:function(e){var a=e.item;return[t.langsInstalled.find((function(t){return t.Identifier===a.Identifier}))?n("div",[t.langsDownloadable.indexOf(a.Identifier)>-1?n("v-icon",{attrs:{color:"warning",title:"Update available","aria-label":"Update available"}},[t._v("mdi-checkbox-blank-circle")]):n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]),t._v(" "+t._s(t.langsInstalled.find((function(t){return t.Identifier===a.Identifier})).CompiledDate.split(" ")[0])+" ")],1):t._e()]}}]),model:{value:t.selectedLangs,callback:function(e){t.selectedLangs=e},expression:"selectedLangs"}})],1)],1),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:t.snackbarColor,text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},ne=[],ae={name:"LanguageDownload",computed:{downloadBtnDisabled:function(){var t=this;return!this.selectedLangs.find((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}))},upstreamURL:function(){return this.$store.state.upstreamURL},langsInstalled:function(){return this.$store.state.langs},langsDownloadable:function(){var t=this,e=this.langs.filter((function(e){var n=t.langsInstalled.find((function(t){return t.Identifier===e.Identifier}));return!n||e.CompiledDate>n.CompiledDate}));return e.reduce((function(t,e){return t.concat(e.Identifier)}),[])}},data:function(){return{snackbarColor:"secondary",snackbarDisplay:!1,snackbarText:!1,loading:!1,headers:[{text:"Name",value:"DisplayName"},{text:"Author",value:"Author"},{text:"Updated",value:"CompiledDate"},{text:"Installed",value:"installed"}],langs:[],selectedLangs:[]}},methods:{init:function(){var t=this;window.fetch(this.upstreamURL+"/languages").then((function(t){return t.json()})).then((function(e){t.langs=e}))},download:function(){var t=this,e=this.selectedLangs.filter((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}));e=e.reduce((function(t,e){return t.concat(e.Identifier)}),[]);var n=0;e.forEach((function(a){t.loading=!0,window.fetch(t.$VARNAM_API_URL+"/download-language",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:a})}).then(function(){var r=Object(At["a"])(regeneratorRuntime.mark((function r(s){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading=!1,200!==s.status){r.next=5;break}++n===e.length?t.$toast("All selected languages downloaded. Restart app for changes to take effect.",{color:"secondary"}):t.$toast("Language '".concat(a,"' downloaded"),{color:"secondary"}),r.next=9;break;case 5:return r.next=7,s.json();case 7:s=r.sent,t.$toast(s.message,{color:"error"});case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}))}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.init()}))}},re=ae,se=Object(d["a"])(re,ee,ne,!1,null,null,null),oe=se.exports;f()(se,{VBtn:v["a"],VCard:M["a"],VCardActions:B["b"],VCardText:B["d"],VCardTitle:B["e"],VDataTable:yt["a"],VIcon:g["a"],VSnackbar:_t["a"],VSpacer:b["a"]});var ie={name:"Settings",components:{AddWordsOnline:St,AddWordsOffline:Jt,EditorSettings:te,LanguageDownload:oe},computed:{tab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{tab:t})})},get:function(){return this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}}},le=ie,ce=n("0e8f"),de=n("a722"),ue=n("9a96"),fe=Object(d["a"])(le,ot,it,!1,null,null,null),ve=fe.exports;f()(fe,{VCard:M["a"],VCardText:B["d"],VContainer:at["a"],VFlex:ce["a"],VIcon:g["a"],VLayout:de["a"],VTab:jt["a"],VTabItem:Ut["a"],VTabs:Mt["a"],VTabsSlider:ue["a"]}),a["default"].use(I["a"]);var pe=[{path:"/",name:"Home",component:st},{path:"/settings",name:"Settings",component:ve}],ge=new I["a"]({routes:pe}),he=ge,me=n("2f62");a["default"].use(me["a"]);var be=new me["a"].Store({state:{currentWord:0,setupDialog:!1,langs:[],upstreamURL:"",suggestionsDisplay:[],suggestions:{},alternateWords:{},settings:{lang:"ml",fontSize:14,suggestionsPanelPosition:"left"},idbWords:{}},mutations:{initSettings:function(t){var e=window.localStorage.getItem("varnam-settings");e&&(e=JSON.parse(e),t.settings=Object.assign({},t.settings,e))},updateSettings:function(t,e){a["default"].set(t,"settings",Object(lt["a"])(Object(lt["a"])({},t.settings),e)),window.localStorage.setItem("varnam-settings",JSON.stringify(t.settings))},setCurrentWord:function(t,e){t.currentWord=e},setSuggestions:function(t,e){a["default"].set(t.suggestions,e.id,e.suggestions)},clearSuggestions:function(t,e){a["default"].delete(t.suggestions,e)},displaySuggestions:function(t,e){t.suggestionsDisplay=e},hideSuggestions:function(t){t.suggestionsDisplay=[]},setLangs:function(t,e){e.sort((function(t,e){return t.Identifier.localeCompare(e.Identifier)})),t.langs=e,0===e.length&&(t.setupDialog=!0)},setUpstream:function(t,e){t.upstreamURL=e},setIDBWords:function(t,e){var n={};e.forEach((function(t){n[t.pattern]=t.word})),t.idbWords=n},hideSetupDialog:function(t){t.setupDialog=!1},requestSend:function(){},chooseSuggestion:function(){}},actions:{},modules:{}}),ke=n("f309"),we=n("ffa5"),ye=n.n(we);a["default"].use(ke["a"],{components:{VSnackbar:_t["a"],VBtn:v["a"],VIcon:g["a"]}}),a["default"].use(ye.a);var _e=new ke["a"]({theme:{themes:{light:{primary:"#4c5df5",secondary:"#00bcd4",accent:"#03a9f4",error:"#e91e63",warning:"#ffc107",info:"#2196f3",success:"#4caf50"}}}});a["default"].config.productionTip=!1,window.$VARNAM_OFFLINE=!1,window.$VARNAM_API_URL="https://api.varnamproject.com",window.$VARNAM_REVIEW_URL="https://kde.smc.org.in:8124",a["default"].prototype.$VARNAM_OFFLINE=window.$VARNAM_OFFLINE,a["default"].prototype.$VARNAM_API_URL=window.$VARNAM_API_URL,a["default"].prototype.$VARNAM_REVIEW_URL=window.$VARNAM_REVIEW_URL,window.fetch(window.$VARNAM_API_URL+"/languages").then((function(t){return t.json()})).then((function(t){be.commit("setLangs",t)})),be.commit("initSettings"),window.$VARNAM_OFFLINE&&window.fetch(window.$VARNAM_API_URL+"/get/upstream-url").then((function(t){return t.text()})).then((function(t){be.commit("setUpstream",t)})),a["default"].prototype.$LINK_OPEN_CLICK=function(t){},"undefined"!==typeof window.$OPEN_EXTERNAL&&(a["default"].prototype.$LINK_OPEN_CLICK=function(t){var e=t.target.href;window.$OPEN_EXTERNAL(e)},window.addEventListener("keyup",(function(t){116===t.keyCode&&t.target&&window.location.reload(!0)})));var xe=1;a["default"].prototype.$VARNAM_IDB={getDB:function(){return new Promise((function(t){var e=window.indexedDB.open("varnam-"+be.state.settings.lang,xe);e.onupgradeneeded=function(t){var n=e.result;switch(t.oldVersion){case 0:n.createObjectStore("words",{keyPath:"id",autoIncrement:!0});break;case 1:}},e.onerror=function(){console.error("IndexedDB Error",e.error)},e.onsuccess=function(e){var n=e.target.result;t(n),n.onversionchange=function(){n.close(),window.alert("Database is outdated, please reload the page.")}}}))},getWordsStore:function(){var t=this;return new Promise((function(e){return t.getDB().then((function(t){var n=t.transaction("words","readwrite"),a=n.objectStore("words");e(a),t.close()}))}))},fetchWords:function(){this.getWordsStore().then((function(t){t.getAll().onsuccess=function(t){be.commit("setIDBWords",t.target.result)}}))}},a["default"].filter("formatSize",(function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"})),new a["default"]({router:he,store:be,vuetify:_e,render:function(t){return t(A)}}).$mount("#app")},8032:function(t,e,n){},"810e":function(t,e,n){"use strict";var a=n("8032"),r=n.n(a);r.a},"85ec":function(t,e,n){},def1:function(t,e,n){}});
//# sourceMappingURL=app.853d68c6.js.map