(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],u=0,f=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},o={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/editor/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"480c":function(t,e,n){"use strict";var s=n("a180"),o=n.n(s);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("navbar"),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",[n("v-toolbar-title",{staticClass:"title"},[n("router-link",{staticClass:"primary--text text-decoration-none",attrs:{to:"/"}},[t._v(" Varnam Editor ")])],1),n("v-spacer"),n("v-row",{staticClass:"d-inline-flex",attrs:{align:"center",justify:"end"}},[n("v-col",{attrs:{lg:"2",sm:"6"}},[n("v-select",{attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),n("v-col",{attrs:{lg:"2",sm:"4"}},["Home"==t.$route.name?n("div",[n("v-btn",{attrs:{to:"/settings",color:"primary",depressed:""}},[n("v-icon",[t._v("mdi-cog")]),t._v(" Settings ")],1)],1):n("div",[n("v-btn",{attrs:{to:"/",color:"primary",depressed:""}},[n("v-icon",[t._v("mdi-arrow-left")]),t._v(" Back ")],1)],1)])],1)],1)],1)},i=[],l=(n("4160"),n("159b"),{name:"Navbar",data:function(){return{}},computed:{langs:function(){var t=[];return this.$store.state.langs.forEach((function(e){t.push({text:e.DisplayName,value:e.Identifier})})),t},lang:{get:function(){return this.$store.state.settings.lang},set:function(t){this.$store.commit("updateSettings",{lang:t})}}}}),c=l,d=n("2877"),u=n("6544"),f=n.n(u),g=n("8336"),v=n("62ad"),h=n("132d"),p=n("0fd9"),m=n("b974"),b=n("2fa4"),y=n("71d9"),_=n("2a7f"),w=Object(d["a"])(c,r,i,!1,null,null,null),S=w.exports;f()(w,{VBtn:g["a"],VCol:v["a"],VIcon:h["a"],VRow:p["a"],VSelect:m["a"],VSpacer:b["a"],VToolbar:y["a"],VToolbarTitle:_["a"]});var x={name:"App",components:{Navbar:S},data:function(){return{}}},A=x,V=(n("034f"),n("7496")),k=Object(d["a"])(A,o,a,!1,null,null,null),W=k.exports;f()(k,{VApp:V["a"]});var C,$=n("8c4f"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-container",{staticClass:"main"},["right"===t.$store.state.settings.suggestionsPanelPosition?n("div",[n("v-row",[n("v-col",{staticClass:"editor",attrs:{cols:"6",sm:"9"}},[n("Editor")],1),n("v-col",{staticClass:"panel",attrs:{cols:"6",sm:"3"}},[n("SuggestionsPanel")],1)],1)],1):n("div",[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"panel",attrs:{cols:"6",sm:"3"}},[n("SuggestionsPanel")],1),n("v-col",{staticClass:"editor",attrs:{cols:"6",sm:"9"}},[n("Editor")],1)],1)],1)])],1)},R=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea"},[n("v-textarea",{ref:"editor",style:"font-size: "+t.$store.state.settings.fontSize+"px",attrs:{outlined:"",name:"translate",label:"Type here...",rows:"20",autofocus:!0},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}})],1)},T=[],N=(n("99af"),n("c975"),n("baa5"),n("ac1f"),n("466d"),n("498a"),n("2909")),P=1,I=!0,D={UNKNOWN:0,SHIFT:16,CTRL:17,ALT:18,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8,SPACE:32},j=[],F=[],L=[];function M(t){var e,n;for(e=t.length;e--;)if(n=t.charCodeAt(e),n>=65&&n<=122)return!0;return!1}var B={name:"Editor",data:function(){return{inputText:"",alternateWords:[]}},computed:{lang:function(){return this.$store.state.settings.lang},suggestions:function(){return this.$store.state.suggestions}},methods:{init:function(){var t=this;C=this.$refs.editor.$el.getElementsByTagName("textarea")[0],C.addEventListener("keyup",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey,s=n||e.shiftKey;switch(e.keyCode){case D.UNKNOWN:case D.SHIFT:case D.CTRL:case D.ALT:case D.RETURN:break;case D.TAB:if(!s&&I)break;case D.ESC:break;default:if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)break;if(!n){var o=t.getCurrentWordPosition(),a=o[2],r=t.getChunk(o);if(""===r.trim())return void t.$store.commit("hideSuggestions");if(!M(r))return void(t.alternateWords[r]&&t.$store.commit("displaySuggestions",t.alternateWords[r]));r.length>=P&&(F[a]&&F[a].abort(),clearTimeout(j[a]),j[a]=setTimeout((function(){t.transliterate(r,a),delete j[a]}),500)),t.$store.commit("setCurrentWord",a)}break}})),C.addEventListener("keydown",(function(e){var n=e.altKey||e.metaKey||e.ctrlKey||e.shiftKey;if(!n){var s=[D.BACKSPACE,D.DEL,D.LEFT,D.RIGHT,D.UP,D.DOWN,D.SHIFT,D.CTRL];if(-1===s.indexOf(e.keyCode)&&!(e.keyCode>=65&&e.keyCode<=90)){var o=t.getCurrentWordPosition(),a=o[2],r=t.getChunk(o);if(e.keyCode>=48&&e.keyCode<=57){var i=e.keyCode-48;t.chooseSuggestion(i,o)&&e.preventDefault()}else M(r)&&(t.suggestions[a]&&t.suggestions[a][0]===r?t.replaceWord(o,t.suggestions[a],1):t.replaceWordOnSuggestion(o));localStorage["varnam-input"]=C.value}}})),C.addEventListener("click",(function(){var e=t.getCurrentWordPosition(),n=t.getChunk(e);t.alternateWords[n]&&t.$store.commit("displaySuggestions",t.alternateWords[n])})),this.$store.subscribe((function(e){"chooseSuggestion"===e.type&&t.chooseSuggestion(e.payload)})),this.$VARNAM_OFFLINE||(this.$VARNAM_IDB.fetchWords(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.$VARNAM_IDB.fetchWords()})))},getChunk:function(t){var e=C.value,n=t[0],s=t[1];return e.substr(n,s-n)},replaceWordOnSuggestion:function(t){var e=t[2];L[e]=t},replaceWord:function(t,e,n){var s=this,o=t[0],a=t[1],r=t[2],i=e[n],l=this.inputText,c=C.selectionEnd;this.inputText=l.substring(0,o)+i+l.substr(a,l.length);var d=i.length-(a-o);this.$nextTick((function(){s.setCursorPosition(c+d)})),this.alternateWords[i]=e,this.$store.commit("clearSuggestions",r)},setCursorPosition:function(t){if(C.setSelectionRange)C.setSelectionRange(t,t);else if(C.createTextRange){var e=C.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},showCachedSuggestions:function(t,e){return"undefined"!==typeof this.cachedSuggestions[t]&&(this.onSuggestionsReceive(t,e,this.cachedSuggestions[t]),!0)},getCurrentWordPosition:function(){var t,e,n,s=[" ","\n","\r","\t",",","."],o=this.inputText,a=C.selectionEnd,r=o.substr(0,a),i=-1;for(t=0;t<s.length;t++)e=s[t],n=r.lastIndexOf(e),n>i&&(i=n);while(a<o.length){if(-1!==s.indexOf(o[a]))break;++a}var l=0,c=r.match(/\S+/gi);return c&&(l=c.length-1),i<0?[0,a,l]:[i+1,a,l]},transliterate:function(t,e){var n=this;!this.$VARNAM_OFFLINE&&this.$store.state.idbWords[t]?this.onSuggestionsReceive(t,e,[this.$store.state.idbWords[t]]):(F[e]=new AbortController,this.$store.commit("requestSend"),fetch(this.$VARNAM_API_URL+"/tl/".concat(this.lang,"/").concat(t),{signal:F[e].signal}).then((function(t){return t.json()})).then((function(s){n.onSuggestionsReceive(t,e,s.result),delete F[e]})))},onSuggestionsReceive:function(t,e,n){this.$store.commit("setSuggestions",{id:e,word:t,suggestions:n});var s=[t].concat(Object(N["a"])(n));if(this.$store.commit("displaySuggestions",s),L[e]){var o=L[e];this.getChunk(o)===t&&this.replaceWord(o,s,1),delete L[e]}},chooseSuggestion:function(t,e){e||(e=this.getCurrentWordPosition());var n=e[2],s=this.getChunk(e),o=[];return this.suggestions[n]?o=this.suggestions[n]:this.alternateWords[s]&&(o=this.alternateWords[s]),!!o[t]&&(this.replaceWord(e,o,t),!0)}},mounted:function(){this.init()}},U=B,K=n("a844"),z=Object(d["a"])(U,E,T,!1,null,null,null),q=z.exports;f()(z,{VTextarea:K["a"]});var H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{outlined:"",loading:t.loading}},[n("v-card-title",{staticClass:"title"},[t._v("Word Suggestions")]),n("v-card-text",{staticClass:"suggestions"},[n("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:t.placeholder,expression:"placeholder"}],attrs:{boilerplate:!0,tile:!0}},[n("v-card",{staticClass:"word-card d-flex align-center",attrs:{outlined:""}},[n("v-btn",{staticClass:"sug-id",attrs:{depressed:"",color:"primary"}},[t._v("1")]),n("div",{staticClass:"flex-grow-1 sug-word v-skeleton-loader__bone v-skeleton-loader__list-item-avatar"},[n("div",{staticClass:"v-skeleton-loader__text v-skeleton-loader__bone"})])],1)],1),t._l(t.$store.state.suggestionsDisplay,(function(e,s){return n("div",{key:e.key},[n("v-card",{staticClass:"word-card d-flex align-center",attrs:{outlined:""}},[n("v-btn",{staticClass:"sug-id",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.chooseSuggestion(s)}}},[t._v(t._s(s))]),n("div",{staticClass:"sug-word v-skeleton-loader__list-item-avatar"},[t._v(t._s(e))])],1)],1)}))],2),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{depressed:"",color:"primary",to:"/settings?tab=words"}},[n("v-icon",[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1)},J=[],G={name:"SuggestionsPanel",data:function(){return{placeholder:!0,loading:!1}},methods:{chooseSuggestion:function(t){this.$store.commit("chooseSuggestion",t)}},mounted:function(){var t=this;this.$store.subscribe((function(e){"requestSend"===e.type?t.loading=!0:"displaySuggestions"===e.type?(t.placeholder=!1,t.loading=!1):"hideSuggestions"===e.type&&(t.placeholder=!0,t.loading=!1)}))}},Q=G,X=(n("480c"),n("b0af")),Y=n("99d9"),Z=n("3129"),tt=Object(d["a"])(Q,H,J,!1,null,"826b2be8",null),et=tt.exports;f()(tt,{VBtn:g["a"],VCard:X["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VIcon:h["a"],VSkeletonLoader:Z["a"]});var nt={name:"Home",components:{Editor:q,SuggestionsPanel:et}},st=nt,ot=n("a523"),at=Object(d["a"])(st,O,R,!1,null,"68fff75a",null),rt=at.exports;f()(at,{VCol:v["a"],VContainer:ot["a"],VRow:p["a"]});var it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{staticClass:"d-flex justify-center",attrs:{row:""}},[n("v-flex",{attrs:{xs11:"",xl6:""}},[n("v-tabs",{attrs:{grow:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#editor"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Editor ")],1),n("v-tab",{attrs:{href:"#words"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Words ")],1),n("v-tab-item",{attrs:{value:"editor"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("EditorSettings")],1)],1)],1),n("v-tab-item",{attrs:{value:"words"}},[t.$VARNAM_OFFLINE?n("div",[n("AddWordsOffline")],1):n("div",[n("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[n("v-tab",{attrs:{href:"#offline"}},[t._v("Offline")]),n("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),n("v-tab-item",{attrs:{value:"offline"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOffline")],1)],1)],1),n("v-tab-item",{attrs:{value:"online"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOnline")],1)],1)],1)],1)],1)])],1)],1)],1)],1)},lt=[],ct=(n("5319"),n("5530")),dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{staticClass:"text-h4",attrs:{headers:t.headers,items:t.words,"items-per-page":5,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[n("v-btn",{attrs:{depressed:"",color:s.voted?"primary":"",title:"Vote","aria-label":"Vote suggestion"},on:{click:function(e){return t.vote(s.id)}}},[n("v-icon",[t._v("mdi-arrow-up-box")]),t._v(" "+t._s(s.votes)+" ")],1)]}}])}),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},ut=[],ft=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addwords"},[n("v-form",[n("v-row",{attrs:{cols:"12",md:"4",align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Word (in "+t.langName+")","hide-details":!0,outlined:"",color:"primary"},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Pattern","hide-details":!0,outlined:"",color:"primary"},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.addWord}},[n("v-icon",[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1)],1)],1)}),gt=[],vt={name:"AddWordsForm",data:function(){return{word:"",pattern:""}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{addWord:function(){this.$emit("addWord",{word:this.word,pattern:this.pattern})}}},ht=vt,pt=n("4bd4"),mt=n("8654"),bt=Object(d["a"])(ht,ft,gt,!1,null,null,null),yt=bt.exports;f()(bt,{VBtn:g["a"],VCol:v["a"],VForm:pt["a"],VIcon:h["a"],VRow:p["a"],VTextField:mt["a"]});var _t={name:"AddWordsOnline",components:{AddWordForm:yt},data:function(){return{snackbarDisplay:!1,snackbarText:!1,headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;fetch(this.$VARNAM_REVIEW_URL+"/suggestions").then((function(t){return t.json()})).then((function(e){t.words=e}))},addWord:function(t){var e=this;t.lang=this.$store.state.settings.lang,fetch(this.$VARNAM_REVIEW_URL+"/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.snackbarText="Word was addedd successfully",e.snackbarDisplay=!0,e.init()}))},vote:function(t){var e=this.words.find((function(e){return e.id===t}));fetch(this.$VARNAM_REVIEW_URL+"/suggestions/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:t})}).then((function(t){return t.json()})).then((function(t){"voted"===t.message?(e.voted=!1,e.votes--):"success"===t.message&&(e.voted=!0,e.votes++)}))}},mounted:function(){this.init()}},wt=_t,St=n("8fea"),xt=n("2db4"),At=Object(d["a"])(wt,dt,ut,!1,null,null,null),Vt=At.exports;f()(At,{VBtn:g["a"],VDataTable:St["a"],VIcon:h["a"],VSnackbar:xt["a"]});var kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$VARNAM_OFFLINE?n("div",[n("span",{staticClass:"text-h6"},[t._v("Add Word")]),n("AddWordForm",{on:{addWord:t.addWord}}),n("v-form",[n("span",{staticClass:"text-h6"},[t._v("Delete Word")]),n("v-row",{attrs:{cols:"12",align:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("v-text-field",{attrs:{label:"Word to delete (in "+t.langName+")","hide-details":!0,outlined:""},model:{value:t.wordToDelete,callback:function(e){t.wordToDelete=e},expression:"wordToDelete"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{attrs:{large:"",color:"error"},on:{click:t.deleteWord}},[n("v-icon",[t._v("mdi-minus")]),t._v(" Delete Word ")],1)],1)],1)],1)],1):n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{attrs:{headers:t.headers,items:t.words,"items-per-page":5,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[n("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteWord(s.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)]}}])})],1),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},Wt=[],Ct={name:"AddWordsOffline",components:{AddWordForm:yt},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},data:function(){return{snackbarDisplay:!1,snackbarText:!1,wordToDelete:"",headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(e){e.getAll().onsuccess=function(e){t.words=e.target.result}}))},addWord:function(t){var e=this;""!==t.pattern.trim()&&""!==t.word.trim()||(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(n){var s=n.add(t);s.onsuccess=function(){e.snackbarText="Word was addedd successfully",e.snackbarDisplay=!0,e.init()},s.onerror=function(t){console.log(t)}}))},deleteWord:function(t){var e=this;this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(n){n.delete(t),e.init()}))}},mounted:function(){this.init()}},$t=Ct,Ot=Object(d["a"])($t,kt,Wt,!1,null,null,null),Rt=Ot.exports;f()(Ot,{VBtn:g["a"],VCol:v["a"],VDataTable:St["a"],VForm:pt["a"],VIcon:h["a"],VRow:p["a"],VSnackbar:xt["a"],VTextField:mt["a"]});var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",[n("v-row",[n("v-col",{attrs:{l:"6"}},[n("v-text-field",{attrs:{type:"number",label:"Font Size",outlined:""},model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}})],1),n("v-col",{attrs:{l:"6"}},[n("v-select",{attrs:{items:[{text:"Left",value:"left"},{text:"Right",value:"right"}],label:"Suggestions Panel Position",outlined:""},model:{value:t.suggestionsPanelPosition,callback:function(e){t.suggestionsPanelPosition=e},expression:"suggestionsPanelPosition"}})],1)],1)],1)},Tt=[],Nt={name:"EditorSettings",data:function(){return{}},computed:{fontSize:{get:function(){return this.$store.state.settings.fontSize},set:function(t){this.$store.commit("updateSettings",{fontSize:t})}},suggestionsPanelPosition:{get:function(){return this.$store.state.settings.suggestionsPanelPosition},set:function(t){this.$store.commit("updateSettings",{suggestionsPanelPosition:t})}}},methods:{init:function(){}},mounted:function(){this.init()}},Pt=Nt,It=Object(d["a"])(Pt,Et,Tt,!1,null,null,null),Dt=It.exports;f()(It,{VCol:v["a"],VForm:pt["a"],VRow:p["a"],VSelect:m["a"],VTextField:mt["a"]});var jt={name:"Settings",computed:{tab:{set:function(t){this.$router.replace({query:Object(ct["a"])(Object(ct["a"])({},this.$route.query),{},{tab:t})})},get:function(){return this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(ct["a"])(Object(ct["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}},components:{AddWordsOnline:Vt,AddWordsOffline:Rt,EditorSettings:Dt}},Ft=jt,Lt=n("0e8f"),Mt=n("a722"),Bt=n("71a3"),Ut=n("c671"),Kt=n("fe57"),zt=n("9a96"),qt=Object(d["a"])(Ft,it,lt,!1,null,null,null),Ht=qt.exports;f()(qt,{VCard:X["a"],VCardText:Y["b"],VContainer:ot["a"],VFlex:Lt["a"],VIcon:h["a"],VLayout:Mt["a"],VTab:Bt["a"],VTabItem:Ut["a"],VTabs:Kt["a"],VTabsSlider:zt["a"]}),s["a"].use($["a"]);var Jt=[{path:"/",name:"Home",component:rt},{path:"/settings",name:"Settings",component:Ht}],Gt=new $["a"]({routes:Jt}),Qt=Gt,Xt=n("2f62");s["a"].use(Xt["a"]);var Yt=new Xt["a"].Store({state:{currentWord:0,langs:[],suggestionsDisplay:[],suggestions:{},alternateWords:{},settings:{lang:"ml",fontSize:14,suggestionsPanelPosition:"right"},idbWords:{}},mutations:{initSettings:function(t){var e=window.localStorage.getItem("varnam-settings");e&&(e=JSON.parse(e),t.settings=Object.assign({},t.settings,e))},updateSettings:function(t,e){s["a"].set(t,"settings",Object(ct["a"])(Object(ct["a"])({},t.settings),e)),window.localStorage.setItem("varnam-settings",JSON.stringify(t.settings))},setCurrentWord:function(t,e){t.currentWord=e},setSuggestions:function(t,e){s["a"].set(t.suggestions,e.id,[e.word].concat(Object(N["a"])(e.suggestions)))},clearSuggestions:function(t,e){s["a"].delete(t.suggestions,e)},displaySuggestions:function(t,e){t.suggestionsDisplay=e},hideSuggestions:function(t){t.suggestionsDisplay=[]},setLangs:function(t,e){e.sort((function(t,e){return t.Identifier.localeCompare(e.Identifier)})),t.langs=e},setIDBWords:function(t,e){var n={};e.forEach((function(t){n[t.pattern]=t.word})),t.idbWords=n},requestSend:function(){},chooseSuggestion:function(){}},actions:{},modules:{}}),Zt=n("f309");s["a"].use(Zt["a"]);var te=new Zt["a"]({theme:{themes:{light:{primary:"#4c5df5",secondary:"#00bcd4",accent:"#03a9f4",error:"#e91e63",warning:"#ffc107",info:"#2196f3",success:"#4caf50"}}}});s["a"].config.productionTip=!1,window.$VARNAM_OFFLINE=!1,window.$VARNAM_API_URL="https://api.varnamproject.com",window.$VARNAM_REVIEW_URL="https://kde.smc.org.in:8124",s["a"].prototype.$VARNAM_OFFLINE=window.$VARNAM_OFFLINE,s["a"].prototype.$VARNAM_API_URL=window.$VARNAM_API_URL,s["a"].prototype.$VARNAM_REVIEW_URL=window.$VARNAM_REVIEW_URL,window.fetch(window.$VARNAM_API_URL+"/languages").then((function(t){return t.json()})).then((function(t){Yt.commit("setLangs",t)})),Yt.commit("initSettings");var ee=1;s["a"].prototype.$VARNAM_IDB={getDB:function(){return new Promise((function(t){var e=window.indexedDB.open("varnam-"+Yt.state.settings.lang,ee);e.onupgradeneeded=function(t){var n=e.result;switch(t.oldVersion){case 0:n.createObjectStore("words",{keyPath:"id",autoIncrement:!0});break;case 1:}},e.onerror=function(){console.error("IndexedDB Error",e.error)},e.onsuccess=function(e){var n=e.target.result;t(n),n.onversionchange=function(){n.close(),window.alert("Database is outdated, please reload the page.")}}}))},getWordsStore:function(){var t=this;return new Promise((function(e){return t.getDB().then((function(t){var n=t.transaction("words","readwrite"),s=n.objectStore("words");e(s),t.close()}))}))},fetchWords:function(){this.getWordsStore().then((function(t){t.getAll().onsuccess=function(t){Yt.commit("setIDBWords",t.target.result)}}))}},new s["a"]({router:Qt,store:Yt,vuetify:te,render:function(t){return t(W)}}).$mount("#app")},"85ec":function(t,e,n){},a180:function(t,e,n){}});
//# sourceMappingURL=app.5fe81d9d.js.map